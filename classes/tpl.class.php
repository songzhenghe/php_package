<?phpinclude(ROOT.'smarty2/Smarty.class.php');class tpl extends Smarty{	function __construct($appid=1){			parent::__construct();			//不同项目的配置			global $apps;			if($appid==1){				$this->template_dir = ROOT.$apps[$appid].'templates/';				$this->compile_dir  = ROOT.'runtime/templates_c/';				$this->cache_dir    = ROOT.'runtime/html_cache/';				$this->caching      = true;				$this->cache_lifetime=60*60*24;				$this->left_delimiter = "<{";				$this->right_delimiter = "}>";			}else if($appid==2){				$this->template_dir = ROOT.$apps[$appid].'templates/';				$this->compile_dir  = ROOT.'runtime/templates_c2/';				$this->cache_dir    = ROOT.'runtime/html_cache2/';				$this->caching      = true;				$this->cache_lifetime=60*60*24;				$this->left_delimiter = "<{";				$this->right_delimiter = "}>";			}	}	function display($resource_name=null, $cache_id = null, $compile_id = null) {			$this->assign("root", ROOT);			$this->assign("url", URL);						if(is_null($resource_name)){				$path=pathinfo($_SERVER['SCRIPT_NAME']);				$folder=explode('/',$path['dirname']);						$resource_name=array_pop($folder).'/'.rtrim($path['basename'],'.php').'.html';			}			debug::addmsg("使用模板 <b> $resource_name </b>");			parent::display($resource_name, $cache_id, $compile_id);		}}